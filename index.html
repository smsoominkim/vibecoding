import React, { useState, useEffect } from 'react';
import { 
  Code, 
  Cpu, 
  Smartphone, 
  Rocket, 
  Zap, 
  CheckCircle, 
  Calendar, 
  Clock, 
  Users, 
  MapPin, 
  ChevronDown, 
  ChevronUp,
  Star,
  MessageCircle,
  ArrowRight,
  Facebook,
  ExternalLink,
  CreditCard
} from 'lucide-react';

const VibeCodingLanding = () => {
  const [isScrolled, setIsScrolled] = useState(false);
  // 초기 상태를 모든 주차(0~4)가 열려있는 상태로 설정
  const [openWeeks, setOpenWeeks] = useState([0, 1, 2, 3, 4]);

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const toggleWeek = (index) => {
    if (openWeeks.includes(index)) {
      setOpenWeeks(openWeeks.filter(i => i !== index));
    } else {
      setOpenWeeks([...openWeeks, index]);
    }
  };

  // 수강신청 링크 핸들러 (추후 실제 구글폼 링크로 교체 필요)
  const handleApplyClick = () => {
    window.open('https://forms.google.com/placeholder', '_blank'); 
  };

  const curriculum = [
    {
      week: "1주차",
      date: "1/15(목)",
      title: "AI-Native Creation: 웹 서비스 기획부터 배포까지",
      tags: ["Full-cycle", "Replit", "Web"],
      content: [
        { type: "Spark", title: "Zero to One: AI 시대, 1인 유니콘 기업의 탄생", speaker: "맹성현 부총장" },
        { type: "Practice", title: "Replit으로 웹 서비스 기획-개발-배포 (3시간 완성)", desc: "전체 개발 스택 이해, 프롬프팅으로 웹 앱 구조 설계, DB 연동, API 연결 및 배포" }
      ]
    },
    {
      week: "2주차",
      date: "1/22(목)",
      title: "Mobile App Expansion: 내 서비스를 앱으로 확장",
      tags: ["React Native", "Mobile", "App"],
      content: [
        { type: "Spark", title: "AI First: 사용자 접점을 장악하는 플랫폼 전략", speaker: "더존 지용구 대표" },
        { type: "Practice", title: "Replit으로 웹 앱을 '모바일 앱'으로 확장하기", desc: "React Native 활용, 웹 코드를 앱 코드로 변환, 시뮬레이터 테스트" }
      ]
    },
    {
      week: "3주차",
      date: "1/29(목)",
      title: "Market Ready: 실전 같은 디버깅과 마케팅",
      tags: ["Debugging", "SEO", "Growth"],
      content: [
        { type: "Spark", title: "Engineering Management: 코딩하지 말고 '리뷰'하라", speaker: "장동진 박사 (AWS)" },
        { type: "Practice", title: "AI 디버깅, 매니징 스킬 및 검색 최적화(SEO)", desc: "오류 유형별 수정 전략, 구글 노출 최적화, 메타 태그 설정" }
      ]
    },
    {
      week: "4주차",
      date: "2/5(목)",
      title: "Agentic AI Workflow: 스스로 일하는 AI 만들기",
      tags: ["Agent", "Automation", "Workflow"],
      content: [
        { type: "Spark", title: "From Chat to Agent: 에이전트 AI의 시대", speaker: "곽지영 학부장" },
        { type: "Practice", title: "Agentic AI 프레임워크로 뉴스레터 자동화 서비스", desc: "사용자 관심사 기반 뉴스레터 자동 생성/발송, 24시간 관제 시스템 구축" }
      ]
    },
    {
      week: "5주차",
      date: "2/12(목)",
      title: "High-End UX & Controllability: 프로덕트 완성",
      tags: ["UX/UI", "Admin", "Demo Day"],
      content: [
        { type: "Spark", title: "Winning Service Experience: 성공하는 AI 서비스의 조건", speaker: "외부 강사" },
        { type: "Practice", title: "관리자 대시보드로 제어권 확보 및 UX 고도화", desc: "디자인 시스템 통일, 데이터 관리자 페이지 구축" },
        { type: "Event", title: "최종 데모데이 시연 (공유회)", desc: "수강생 최종 프로젝트 발표 및 피드백" }
      ]
    }
  ];

  const sparkSpeakers = [
    {
      name: "맹성현 부총장",
      role: "AI & Education",
      desc: [
        "태재대학교 부총장 겸 AI융합전략대학원장",
        "카이스트 전산학부 명예교수",
        "서울과학종합대학원대학교 석좌교수",
        "카이스트 디지털인문사회과학센터장 역임"
      ],
      link: "https://www.facebook.com/sunghyon.myaeng",
      imageUrl: "https://api.dicebear.com/7.x/avataaars/svg?seed=Maeng"
    },
    {
      name: "곽지영 학부장",
      role: "AI & Data Science",
      desc: [
        "태재대학교 데이터과학과 인공지능학부 학부장",
        "(전) POSTECH 산학협력교수, 미래도시연구센터 부센터장",
        "(전) 삼성전자 디자인경영센터 상무"
      ],
      link: null,
      imageUrl: "https://api.dicebear.com/7.x/avataaars/svg?seed=Kwak"
    },
    {
      name: "지용구 대표",
      role: "AI & Business Strategy",
      desc: [
        "더존비즈온 성장전략부문 대표(부사장) / AI 연구소 총괄",
        "글로벌사이버대학교 겸임교수",
        "더존넥스트 대표이사",
        "강원창조경제혁신센터 사외이사"
      ],
      link: "https://www.facebook.com/yonggu.ji/",
      imageUrl: "https://api.dicebear.com/7.x/avataaars/svg?seed=Ji"
    },
    {
      name: "Global AI Specialist",
      role: "TBD",
      desc: ["글로벌 빅테크 AI 스페셜리스트"],
      link: null,
      imageUrl: "https://api.dicebear.com/7.x/avataaars/svg?seed=Global"
    },
    {
      name: "Startup CEO",
      role: "TBD",
      desc: ["성공적인 엑시트 경험을 보유한 스타트업 대표"],
      link: null,
      imageUrl: "https://api.dicebear.com/7.x/avataaars/svg?seed=Startup"
    }
  ];

  const practiceInstructors = [
    {
      name: "유호현 대표",
      role: "Main Practice Instructor",
      desc: [
        "현) 태재미래전략연구원 디지털 전환과 사회변혁 팀 팀장",
        "현) 한양대학교 경영대학원 겸임교수 (AI & 스타트업)",
        "현) 토블 AI 대표 (AI 거버넌스 플랫폼)",
        "전) 옥소폴리틱스 창업자 (정치 플랫폼)",
        "전) 에어비앤비, X(트위터) 엔지니어"
      ],
      imageUrl: "https://api.dicebear.com/7.x/avataaars/svg?seed=Yoo"
    },
    {
      name: "김수민 교수",
      role: "Practice Instructor",
      desc: [
        "태재대학교 AI융합전략대학원 조교수",
        "베스트셀러 《챗GPT 거대한 전환》 저자",
        "거슨러먼그룹 AI 자문위원",
        "전) 삼성전자 MX사업부 Senior UX 디자이너",
        "전) CJ ENM Mnet 마케팅 애널리스트",
        "전) 서울대학교 AI 연구원"
      ],
      imageUrl: "https://api.dicebear.com/7.x/avataaars/svg?seed=Kim"
    }
  ];

  return (
    <div className="min-h-screen bg-[#0f0a1e] text-white font-sans selection:bg-purple-500 selection:text-white">
      {/* Sticky Header */}
      <nav className={`fixed w-full z-50 transition-all duration-300 ${isScrolled ? 'bg-[#0f0a1e]/90 backdrop-blur-md py-4 border-b border-white/10' : 'bg-transparent py-6'}`}>
        <div className="container mx-auto px-6 flex justify-between items-center">
          <div className="text-xl md:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-400">
            Taejae Vibe Coding Academy
          </div>
          <button 
            onClick={handleApplyClick}
            className="hidden md:block bg-white text-purple-900 px-6 py-2 rounded-full font-bold hover:bg-purple-100 transition-colors"
          >
            수강신청 하기
          </button>
        </div>
      </nav>

      {/* Hero Section */}
      <header className="relative pt-32 pb-20 overflow-hidden">
        <div className="absolute inset-0 bg-gradient-to-b from-purple-900/20 via-[#0f0a1e] to-[#0f0a1e] z-0"></div>
        <div className="absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-purple-600/30 rounded-full blur-[120px] animate-pulse"></div>
        <div className="absolute bottom-[10%] left-[-10%] w-[400px] h-[400px] bg-blue-600/20 rounded-full blur-[100px]"></div>
        
        <div className="container mx-auto px-6 relative z-10 text-center">
          <div className="inline-block px-4 py-1 rounded-full bg-white/10 border border-white/20 text-purple-300 text-sm font-medium mb-6 animate-fade-in-up">
            바이브코딩을 활용한 서비스 크리에이션 아카데미
          </div>
          <h1 className="text-4xl md:text-6xl lg:text-7xl font-bold leading-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r from-white via-purple-100 to-purple-300">
            5주 후, 나만의<br />
            <span className="text-purple-400">웹 서비스를 런칭</span>합니다.
          </h1>
          <p className="text-xl text-gray-400 max-w-2xl mx-auto mb-10 leading-relaxed">
            개발자 없이 시작하는 1인 스타트업.<br/>
            아이디어만 가져오세요. 개발은 AI에게 맡기세요.
          </p>
          <div className="flex flex-col sm:flex-row justify-center gap-4">
            <button 
              onClick={handleApplyClick}
              className="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-full font-bold text-lg hover:shadow-lg hover:shadow-purple-500/30 transition-all transform hover:-translate-y-1"
            >
              지금 바로 신청하기
            </button>
            <button className="bg-white/5 border border-white/10 text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-white/10 transition-colors">
              커리큘럼 자세히 보기
            </button>
          </div>
        </div>
      </header>

      {/* Chat Bubble / Problem Section */}
      <section className="py-20 bg-[#130f25]">
        <div className="container mx-auto px-6">
          <div className="max-w-3xl mx-auto space-y-8">
            <div className="flex items-start gap-4 animate-fade-in-right">
              <div className="w-12 h-12 rounded-full bg-yellow-400 flex items-center justify-center text-2xl shadow-lg shadow-yellow-400/20">🤔</div>
              <div className="bg-white text-gray-900 p-6 rounded-2xl rounded-tl-none shadow-xl max-w-[80%]">
                <p className="font-bold text-lg mb-1">비전공자인데 정말 가능한가요?</p>
                <p className="text-gray-600">코딩을 한 번도 해본 적이 없어서 걱정돼요..</p>
              </div>
            </div>
            
            <div className="flex items-start gap-4 flex-row-reverse animate-fade-in-left">
              <div className="w-12 h-12 rounded-full bg-purple-600 flex items-center justify-center text-2xl shadow-lg shadow-purple-600/30">😎</div>
              <div className="bg-purple-600 text-white p-6 rounded-2xl rounded-tr-none shadow-xl max-w-[80%]">
                <p className="font-bold text-lg mb-1">걱정하지 마세요!</p>
                <p className="text-purple-100">AI가 코드를 작성해주고, 우리는 <span className="text-yellow-300 font-bold">지휘</span>만 하면 됩니다. 기획부터 배포까지 떠먹여 드리는 실습 위주의 강의입니다.</p>
              </div>
            </div>

            <div className="flex items-start gap-4 animate-fade-in-right delay-100">
              <div className="w-12 h-12 rounded-full bg-yellow-400 flex items-center justify-center text-2xl shadow-lg shadow-yellow-400/20">😧</div>
              <div className="bg-white text-gray-900 p-6 rounded-2xl rounded-tl-none shadow-xl max-w-[80%]">
                <p className="font-bold text-lg mb-1">준비물이 비싸지 않나요?</p>
                <p className="text-gray-600">개발자 고용하는 것보다 훨씬 저렴하죠?</p>
              </div>
            </div>

            <div className="flex items-start gap-4 flex-row-reverse animate-fade-in-left delay-100">
              <div className="w-12 h-12 rounded-full bg-purple-600 flex items-center justify-center text-2xl shadow-lg shadow-purple-600/30">💡</div>
              <div className="bg-purple-600 text-white p-6 rounded-2xl rounded-tr-none shadow-xl max-w-[80%]">
                <p className="font-bold text-lg mb-1">실습을 따라하기 위한 최소 비용으로<br/>아래 툴 결제를 권장드립니다.</p>
                <ul className="text-purple-100 list-disc list-inside mt-2 space-y-1">
                  <li><span className="font-bold text-white">Replit</span> (월 $25)</li>
                  <li><span className="font-bold text-white">Claude Code</span> (월 $20)</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Curriculum Details */}
      <section className="py-20 bg-[#0f0a1e]">
        <div className="container mx-auto px-6">
           <div className="text-center mb-16">
            <h2 className="text-3xl md:text-4xl font-bold mb-4">상세 커리큘럼</h2>
            <p className="text-gray-400">매주 스파크 렉쳐(40분) + 고강도 실습(130분)으로 구성됩니다.</p>
          </div>

          <div className="max-w-4xl mx-auto space-y-4">
            {curriculum.map((item, index) => (
              <div key={index} className="border border-white/10 rounded-2xl overflow-hidden bg-[#1a0b2e]/50 hover:border-purple-500/50 transition-colors">
                <button 
                  onClick={() => toggleWeek(index)}
                  className="w-full flex items-center justify-between p-6 text-left focus:outline-none"
                >
                  <div className="flex items-center gap-6">
                    <div className="flex flex-col items-center justify-center min-w-[80px] text-center">
                      <span className="text-purple-400 font-bold text-sm mb-1">{item.week}</span>
                      <span className="font-bold text-lg">{item.date}</span>
                    </div>
                    <div>
                      <h3 className="text-xl font-bold mb-2">{item.title}</h3>
                      <div className="flex flex-wrap gap-2">
                        {item.tags.map((tag, i) => (
                          <span key={i} className="text-xs px-2 py-1 rounded bg-white/10 text-gray-300">{tag}</span>
                        ))}
                      </div>
                    </div>
                  </div>
                  <div className={`transform transition-transform duration-300 ${openWeeks.includes(index) ? 'rotate-180' : ''}`}>
                    <ChevronDown className="text-gray-400" />
                  </div>
                </button>
                
                <div className={`transition-all duration-300 ease-in-out overflow-hidden ${openWeeks.includes(index) ? 'max-h-[500px] opacity-100' : 'max-h-0 opacity-0'}`}>
                  <div className="p-6 pt-0 border-t border-white/10 bg-[#150d26]">
                    <div className="space-y-6 mt-4">
                      {item.content.map((c, i) => (
                        <div key={i} className="flex gap-4">
                          <div className={`min-w-[4px] rounded-full ${c.type === 'Spark' ? 'bg-yellow-400' : c.type === 'Event' ? 'bg-pink-500' : 'bg-purple-500'}`}></div>
                          <div>
                            <div className="flex items-center gap-2 mb-1">
                              <span className={`text-xs font-bold px-2 py-0.5 rounded ${
                                c.type === 'Spark' ? 'bg-yellow-400/20 text-yellow-400' : 
                                c.type === 'Event' ? 'bg-pink-500/20 text-pink-400' : 'bg-purple-500/20 text-purple-400'
                              }`}>
                                {c.type === 'Spark' ? 'Spark Lecture' : c.type === 'Event' ? 'Special Event' : 'Practice'}
                              </span>
                              {c.speaker && <span className="text-sm text-gray-400">| {c.speaker}</span>}
                            </div>
                            <h4 className="font-bold text-lg mb-1">{c.title}</h4>
                            {c.desc && <p className="text-gray-400 text-sm leading-relaxed">{c.desc}</p>}
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Instructor Section (Refined) */}
      <section className="py-20 bg-[#130f25]">
        <div className="container mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-3xl md:text-4xl font-bold mb-4">강사진 소개</h2>
            <p className="text-gray-400">국내 최고 수준의 AI 전문가와 실전 창업가들이 함께합니다.</p>
          </div>

          {/* Spark Lecture Speakers */}
          <div className="mb-20">
            <h3 className="text-2xl font-bold mb-8 flex items-center gap-2 text-yellow-400">
              <Zap className="w-6 h-6" /> 스파크 렉쳐 강연자
            </h3>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {sparkSpeakers.map((speaker, idx) => (
                <div key={idx} className="bg-[#1a0b2e] border border-white/10 rounded-2xl p-6 hover:border-yellow-400/50 transition-all flex items-start gap-4">
                   <div className="w-16 h-16 rounded-full overflow-hidden flex-shrink-0 shadow-lg border-2 border-white/10">
                    <img src={speaker.imageUrl} alt={speaker.name} className="w-full h-full object-cover" />
                  </div>
                  <div className="flex-1">
                    <div className="flex justify-between items-start">
                      <div>
                        <h4 className="font-bold text-lg">{speaker.name}</h4>
                        <p className="text-xs text-yellow-500/80 uppercase font-semibold mb-2">{speaker.role}</p>
                      </div>
                      {speaker.link && (
                        <a href={speaker.link} target="_blank" rel="noopener noreferrer" className="text-gray-500 hover:text-blue-400 transition-colors">
                          <Facebook className="w-5 h-5" />
                        </a>
                      )}
                    </div>
                    <ul className="space-y-1">
                      {speaker.desc.map((d, i) => (
                        <li key={i} className="text-sm text-gray-400 leading-tight flex items-start">
                          <span className="mr-2 text-white/20">•</span>
                          {d}
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>
              ))}
            </div>
          </div>

          {/* Practice Instructors */}
          <div>
            <h3 className="text-2xl font-bold mb-8 flex items-center gap-2 text-purple-400">
              <Code className="w-6 h-6" /> 실습 강사진
            </h3>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
               {practiceInstructors.map((instructor, idx) => (
                <div key={idx} className="bg-[#1a0b2e] border border-white/10 rounded-2xl p-8 hover:border-purple-500/50 transition-all group">
                   <div className="flex items-center gap-4 mb-6">
                    <div className="w-20 h-20 rounded-full overflow-hidden shadow-lg border-2 border-white/10 group-hover:scale-110 transition-transform duration-300">
                       <img src={instructor.imageUrl} alt={instructor.name} className="w-full h-full object-cover" />
                    </div>
                    <div>
                      <h4 className="font-bold text-xl">{instructor.name}</h4>
                      <p className="text-purple-400 text-sm font-medium">{instructor.role}</p>
                    </div>
                   </div>
                   <div className="space-y-2 border-t border-white/5 pt-4">
                      {instructor.desc.map((d, i) => (
                        <p key={i} className="text-gray-300 text-sm flex items-start">
                          <CheckCircle className="w-3 h-3 text-purple-500 mt-1 mr-2 flex-shrink-0" />
                          {d}
                        </p>
                      ))}
                   </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Info Section */}
      <section className="py-20 bg-[#0f0a1e]">
        <div className="container mx-auto px-6">
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div className="bg-[#1a0b2e] p-8 rounded-3xl border border-white/5">
              <h3 className="text-2xl font-bold mb-6 flex items-center gap-3">
                <Users className="text-purple-500" /> 수강 대상
              </h3>
              <ul className="space-y-4 text-gray-300">
                <li className="flex items-start gap-3">
                  <CheckCircle className="w-5 h-5 text-purple-500 mt-1 flex-shrink-0" />
                  <span>나만의 웹/앱 서비스를 직접 만들고 싶은 예비 창업가</span>
                </li>
                <li className="flex items-start gap-3">
                  <CheckCircle className="w-5 h-5 text-purple-500 mt-1 flex-shrink-0" />
                  <span>개발자와의 협업이 어렵거나 답답한 기획자/PM/PO</span>
                </li>
                <li className="flex items-start gap-3">
                  <CheckCircle className="w-5 h-5 text-purple-500 mt-1 flex-shrink-0" />
                  <span>챗GPT 등 AI를 써본 적 있고 기본 컴퓨터 활용이 가능한 분</span>
                </li>
              </ul>
            </div>
            
            <div className="bg-[#1a0b2e] p-8 rounded-3xl border border-white/5">
              <h3 className="text-2xl font-bold mb-6 flex items-center gap-3">
                <Calendar className="text-purple-500" /> 강의 안내
              </h3>
              <ul className="space-y-4 text-gray-300">
                <li className="flex items-start gap-3">
                  <Clock className="w-5 h-5 text-gray-500 mt-1 flex-shrink-0" />
                  <div>
                    <span className="block font-bold text-white">일정</span>
                    1/15 ~ 2/12 (매주 목요일) 18:30 ~ 21:30 (5주)
                  </div>
                </li>
                 <li className="flex items-start gap-3">
                  <MapPin className="w-5 h-5 text-gray-500 mt-1 flex-shrink-0" />
                  <div>
                    <span className="block font-bold text-white">장소</span>
                    더존을지타워 11층 ATEC 다빈치홀 (더존비즈온 제공)
                  </div>
                </li>
                <li className="flex items-start gap-3">
                  <Zap className="w-5 h-5 text-gray-500 mt-1 flex-shrink-0" />
                  <div>
                    <span className="block font-bold text-white">준비물</span>
                    개인 노트북, Replit & Claude Code 계정
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      {/* Bottom CTA */}
      <section className="py-20 bg-gradient-to-t from-purple-900/50 to-[#0f0a1e] text-center">
        <div className="container mx-auto px-6">
          <h2 className="text-4xl font-bold mb-8">지금이 아니면<br/>이 가격에 들을 수 없습니다.</h2>
          <div className="inline-block bg-white/10 px-8 py-6 rounded-2xl mb-8 backdrop-blur-sm border border-white/20 max-w-3xl">
            <p className="text-gray-400 line-through mb-1">정가 800,000원</p>
            <p className="text-4xl font-bold text-white mb-6">500,000원 <span className="text-lg font-normal text-purple-300">(런칭 특가)</span></p>
            
            <div className="bg-[#1a0b2e]/60 rounded-xl p-4 text-left border border-white/10">
              <div className="text-sm text-gray-300 leading-relaxed break-keep space-y-2">
                <div className="flex gap-2 mb-2">
                   <CreditCard className="w-4 h-4 text-purple-400 mt-0.5" />
                   <span className="text-purple-400 font-bold">결제 안내</span>
                </div>
                <div className="pl-6">
                  <span className="block mb-1">1. <strong>계좌이체</strong>: 하나은행 560-910014-58904 (예금주: 태재대학교 대학원비등록금)</span>
                  <span className="block">2. <strong>현장결제</strong>: 1월 15일 강의장에서 실물카드 결제 가능</span>
                </div>
              </div>
            </div>
          </div>
          <br/>
          <button 
            onClick={handleApplyClick}
            className="bg-white text-purple-900 px-12 py-5 rounded-full font-bold text-xl hover:bg-purple-100 hover:shadow-[0_0_30px_rgba(255,255,255,0.3)] transition-all transform hover:-translate-y-1"
          >
            수강신청 하러가기 <ArrowRight className="inline ml-2" />
          </button>
          <p className="mt-6 text-gray-400 text-sm">최대 45명 선착순 마감 | 동문 10% 추가 할인</p>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-[#0a0714] py-10 border-t border-white/5">
        <div className="container mx-auto px-6 text-center text-gray-500 text-sm">
          <p className="mb-2">태재대학교 AI아카데미 | 서울특별시 종로구 창덕궁5길 22-8</p>
          <p>© 2025 Taejae University AI Academy. All rights reserved.</p>
        </div>
      </footer>
    </div>
  );
};

export default VibeCodingLanding;
